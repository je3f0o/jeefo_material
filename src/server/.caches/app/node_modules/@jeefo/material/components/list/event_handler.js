 jeefo.register("node_modules/@jeefo/material/components/list/event_handler.js", async (exports, module) => { const __dirname = "node_modules/@jeefo/material/components/list", __filename = "node_modules/@jeefo/material/components/list/event_handler.js"; const require = path => { return jeefo.require(path, __filename, __dirname); }; /* -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
* File Name   : event_handler.js
* Created at  : 2021-01-19
* Updated at  : 2021-03-07
* Author      : jeefo
* Purpose     :
* Description :
* Reference   :
.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.*/
// ignore:start
"use strict";

/* globals*/
/* exported*/

const KEY_ENTER      = 13;
const KEY_SPACE      = 32;
const KEY_ARROW_UP   = 38;
const KEY_ARROW_DOWN = 40;
const focused_class  = "md-list__item--focused";
// ignore:end

const Interface = (await require("@jeefo/utils/class/interface"));

var IMDListItem = (function () {  
    function IMDListItem () {
        Interface.call(this, IMDListItem);
    } IMDListItem.prototype = Object.create(Interface.prototype);

    IMDListItem.prototype.init = function () {
        const {items}       = this.md_list_ctrl;
        const {DOM_element} = this.$element;
        this.$element.add_class("md-list__item");
        this.md_list_ctrl.add(this);

        DOM_element.addEventListener("blur", () => {
            DOM_element.classList.remove(focused_class);
        });

        DOM_element.addEventListener("keydown", event => {
            switch (event.keyCode) {
                case KEY_ARROW_UP   :
                    event.preventDefault();
                    let index = items.indexOf(this);
                    if (index > 0) this.md_list_ctrl.focus(items[index-1]);
                    break;
                case KEY_ARROW_DOWN : {
                    event.preventDefault();
                    let index = items.indexOf(this);
                    if (index + 1 < items.length) {
                        this.md_list_ctrl.focus(items[index+1]);
                    }
                    break;
                }
                case KEY_ENTER:
                    this.md_list_ctrl.select(this);
                    break;
                case KEY_SPACE:
                    event.preventDefault();
                    if (DOM_element.tagName === "A") {
                        DOM_element.click();
                    }
                    break;
            }
        });
    };
IMDListItem.__jeefo_class__ = true; return IMDListItem;}());

module.exports = IMDListItem;
 }); 
//# sourceURL=node_modules/@jeefo/material/components/list/event_handler.js 